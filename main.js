!function(){"use strict";class e{#e;#t;#s;#r;#i;#n;#o;#l;#a;constructor(e,t,s){let{url:r,title:i}=e;this.#e=i,this.#t=r,this.#s={title:this.#e,link:this.#t},this.#a=t.bind(this),this.#r=s}#c=()=>{this.#n.classList.toggle("card__button_type_like-active")};#d=()=>{this.#i.remove(),this.#i=null};#u=()=>{this.#n=this.#i.querySelector(".card__button_type_like-inactive"),this.#o=this.#i.querySelector(".card__button_type_delete"),this.#l=this.#i.querySelector(".card__image"),this.#n.addEventListener("mousedown",(()=>{this.#c()})),this.#o.addEventListener("mousedown",(()=>{this.#d()})),this.#l.addEventListener("mousedown",(()=>{this.#a()}))};getCardInfo(){return this.#s}createCard=()=>{this.#i=document.querySelector(this.#r).content.querySelector(".card").cloneNode(!0);const e=this.#i.querySelector(".card__image"),t=this.#i.querySelector(".card__title");return e.src=this.#t,e.alt=this.#e,t.textContent=this.#e,this.#u(),this.#i}}class t{#m;constructor(e){this.#m=document.querySelector(e)}getPopupElement=()=>this.#m;#p=e=>{"Escape"===e.key&&this.close()};handleClick=e=>{const t=e.target;(t.classList.contains("modal")||t.classList.contains("modal__cancel-button"))&&this.close()};open(){this.#m.classList.add("modal_opened"),document.addEventListener("keydown",this.#p)}close(){this.#m.classList.remove("modal_opened"),document.removeEventListener("keydown",this.#p)}setEventListeners(){this.#m.addEventListener("mousedown",this.handleClick)}}class s extends t{#h;#f;#E;#g;constructor(e,t){super(e),this.#f=this.getPopupElement().querySelector(".modal__form-container"),this.#E=this.#_(),this.#g=t}#_(){const e={};return this.#f.querySelectorAll(".modal__input").forEach((t=>{e[t.id]=t})),e}getInputValues=()=>{const e={};return Object.keys(this.#E).forEach((t=>{e[t]=this.#E[t].value})),e};setEventListeners=()=>{super.setEventListeners(),this.getPopupElement().addEventListener("submit",this.#g)};close(){super.close(),this.#f.reset()}}class r{#C;#v;#S;#y;#L;#I;#k;#b;constructor(e,t){this.#C=e.inputSelector,this.#v=e.submitButtonSelector,this.#y=e.inactiveButtonClass,this.#L=e.inputErrorClass,this.#I=e.errorClass,this.#k=t,this.#S=this.#k.querySelector(this.#v)}#w(e){const t=this.#k.querySelector(`.${e.id}-error`);e.classList.add(this.#L),t.textContent=e.validationMessage,t.classList.add(this.#I)}#B(e){const t=this.#k.querySelector(`.${e.id}-error`);e.classList.remove(this.#L),t.classList.remove(this.#I),t.textContent=""}#q(e){e.validity.valid?this.#B(e):this.#w(e)}#F(){return this.#b.some((e=>!e.validity.valid))}#j(){this.#F()?(this.#S.disabled=!0,this.#S.classList.add(this.#y)):(this.#S.disabled=!1,this.#S.classList.remove(this.#y))}resetValidation(){this.#j(),this.#b.forEach((e=>{this.#B(e)}))}enableValidation(){this.#b=[...this.#k.querySelectorAll(this.#C)],this.#j(),this.#b.forEach((e=>{e.addEventListener("input",(t=>{this.#j(),this.#q(e)}))}))}}const i=document,n="profile-form",o="card-form",l={profileForm:i.forms[n],addCardForm:i.forms[o]},a=".card-modal",c=".profile-modal",d=".preview-modal",u="#card_template",m=(l.profileForm.querySelector(".name-input"),l.profileForm.querySelector(".description-input"),l.addCardForm.querySelector(".title-input"),l.addCardForm.querySelector(".link-input"),{profileEditButton:i.querySelector(".profile__edit-button"),addCardButton:i.querySelector(".profile__add-button")}),p={editorName:l.profileForm.elements.name,editorDescription:l.profileForm.elements.description,cardName:l.addCardForm.elements.name,cardURL:l.addCardForm.elements.url},h={galleryCardList:i.querySelector(".gallery__cards"),profileName:i.querySelector(".profile__name"),profileDescription:i.querySelector(".profile__description")},f=new class{#V;#x;#D;#N;constructor(e,t){this.#V=e,this.#x=t,this.#D=this.#V.textContent,this.#N=this.#x.textContent}getUserInfo(){return{name:this.#D,description:this.#N}}setUserInfo(e){let{name:t,description:s}=e;this.#D=t,this.#N=s,this.#V.textContent=this.#D,this.#x.textContent=this.#N}}(h.profileName,h.profileDescription),E=new class extends t{#z;#P;constructor(e){super(e),this.#z=this.getPopupElement().querySelector(".modal__image"),this.#P=this.getPopupElement().querySelector(".modal__image-title"),console.log(this.#P)}open(e){let{link:t,title:s}=e;this.#z.src=t,this.#z.alt=s,this.#P.textContent=s,super.open()}}(d);E.setEventListeners();const g=new s(c,(function(e){e.preventDefault(),f.setUserInfo(g.getInputValues()),g.close()}));g.setEventListeners();const _=new s(a,(function(e){e.preventDefault();const t=y(_.getInputValues());C.prependItem(t),_.close()}));_.setEventListeners();const C=new class{#U;#A;#T;constructor(e,t,s){this.#U=e,this.#A=t.bind(this),this.#T=s}appendItem(e){this.#T.append(e)}prependItem(e){this.#T.prepend(e)}renderItems(){this.#U.forEach((e=>{this.#A(e)}))}}([{title:"Yosemite Valley",url:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{title:"Lake Louise",url:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{title:"Bald Mountains",url:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{title:"Latemar",url:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{title:"Vanoise National Park",url:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{title:"Lago di Braies",url:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],(function(e){const t=y(e);C.appendItem(t)}),h.galleryCardList);C.renderItems();const v={};var S;function y(t){const s=new e(t,(()=>{E.open(s.getCardInfo())}),u);return s.createCard()}S={formSelector:".modal__form-container",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},[...document.querySelectorAll(S.formSelector)].forEach((e=>{const t=new r(S,e);t.enableValidation(),v[e.getAttribute("id")]=t})),m.profileEditButton.addEventListener("click",(()=>{const e=f.getUserInfo();p.editorName.value=e.name,p.editorDescription.value=e.description,g.open(),v[n].resetValidation()})),m.addCardButton.addEventListener("click",(()=>{_.open(),v[o].resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLElBQUkxRyxFQUFLZ0QsR0FIRW9FLEtBQ3RCakIsRUFBVzdELEtBQUtvRSxFQUFLeEYsY0FBYyxHQUVRb0YsR0FDN0MsT0FBT0ksRUFBS3ZGLFlBQ2QsQ0F4QjBCcUMsRUR0Q08sQ0FDL0I2RCxhQUFjLHlCQUNkM0QsY0FBZSxnQkFDZkMscUJBQXNCLGlCQUN0QkMsb0JBQXFCLHlCQUNyQkMsZ0JBQWlCLDBCQUNqQkMsV0FBWSx3QkNpQ0ssSUFBSTFDLFNBQVMwQixpQkFBaUJVLEVBQVE2RCxlQUM5Q3RFLFNBQVN1RSxJQUNoQixNQUFNQyxFQUFZLElBQUloRSxFQUFjQyxFQUFTOEQsR0FDN0NDLEVBQVUvQyxtQkFDVjJDLEVBQWVHLEVBQVlFLGFBQWEsT0FBU0QsQ0FBUyxJQW1DOURFLEVBQUFBLGtCQUFBQSxpQkFBMkMsU0FBUyxLQUNsRCxNQUFNQyxFQUFPM0IsRUFBS0MsY0FDbEIyQixFQUFBQSxXQUFBQSxNQUEwQkQsRUFBS3BDLEtBQy9CcUMsRUFBQUEsa0JBQUFBLE1BQWlDRCxFQUFLbEMsWUFDdENlLEVBQWlCakUsT0FDakI2RSxFQUFlUyxHQUFtQ3JELGlCQUFpQixJQUVyRWtELEVBQUFBLGNBQUFBLGlCQUF1QyxTQUFTLEtBQzlDaEIsRUFBY25FLE9BQ2Q2RSxFQUFlUyxHQUFtQ3JELGlCQUFpQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJke1xuICAjdGl0bGU7XG4gICNsaW5rO1xuICAjY2FyZEluZm9cbiAgI2NhcmRTZWxlY3RvcjtcbiAgI2NhcmRFbGVtZW50O1xuICAjbGlrZUJ1dHRvbjtcbiAgI2RlbGV0ZUJ1dHRvbjtcbiAgI2NhcmRJbWFnZTtcbiAgI2hhbmRsZUltYWdlQ2xpY2tcblxuICAvKipcbiAgICogQ29kZSBmb3IgY3JlYXRpbmcgbmV3IGNhcmRzIGZyb20gYSB0ZW1wbGF0ZSBhbmQgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHRleHQgYW5kIGltYWdlIHVybFxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSB7bGluaywgbmFtZX0gdHdvIGVsZW1lbnQgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIC50ZXh0IGFuZCBpbWFnZSAubGluayB3aXRoIHdoaWNoIHRvIG1ha2UgdGhlIGNhcmRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBjYXJkU2VsZWN0b3IgdGhlIHRlbXBsYXRlIGVsZW1lbnQgdGhhdCBnZXRzIHVzZWQgdG8gYnVpbGQgdGhlIGNhcmQgZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3Ioe3VybCwgdGl0bGV9LCBjbGlja0hhbmRsZXIsIGNhcmRTZWxlY3Rvcil7XG4gICAgdGhpcy4jdGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLiNsaW5rID0gdXJsO1xuICAgIHRoaXMuI2NhcmRJbmZvID0ge3RpdGxlOiB0aGlzLiN0aXRsZSwgbGluazogdGhpcy4jbGlua307XG4gICAgdGhpcy4jaGFuZGxlSW1hZ2VDbGljayA9IGNsaWNrSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuI2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgfVxuXG4gICNoYW5kbGVMaWtlQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy4jbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19idXR0b25fdHlwZV9saWtlLWFjdGl2ZScpO1xuICB9XG5cbiAgI2hhbmRsZURlbGV0ZUNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMuI2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuI2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gICNzZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLiNsaWtlQnV0dG9uID0gdGhpcy4jY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbl90eXBlX2xpa2UtaW5hY3RpdmUnKTtcbiAgICB0aGlzLiNkZWxldGVCdXR0b24gPSB0aGlzLiNjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fYnV0dG9uX3R5cGVfZGVsZXRlJyk7XG4gICAgdGhpcy4jY2FyZEltYWdlID0gdGhpcy4jY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG5cbiAgICB0aGlzLiNsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMuI2hhbmRsZUxpa2VDbGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVEZWxldGVDbGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMuI2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVJbWFnZUNsaWNrKCk7XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBvYnRhaW4gb2JqZWN0IHdpdGggY2FyZCBpbmZvXG4gICAqIEByZXR1cm5zIG9iamVjdCB3aXRoIHRoZSBuYW1lIG9mIGFuZCB1cmwgdG8gdGhlIHJlbGV2YW50IGltYWdlXG4gICAqL1xuICBnZXRDYXJkSW5mbygpe1xuICAgIHJldHVybiB0aGlzLiNjYXJkSW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIHRoZSBlbnRpcmUgY2FyZCBlbGVtZW50LCByZWFkeSB0byBiZSBkaXNwbGF5ZWQuXG4gICAqIEByZXR1cm5zIHRoZSBjYXJkIGVsZW1lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGNhcmQgZ3JpZFxuICAgKi9cbiAgY3JlYXRlQ2FyZCA9ICgpID0+IHtcbiAgICB0aGlzLiNjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLiNjYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy4jY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gdGhpcy4jY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJyk7XG5cbiAgICBjYXJkSW1hZ2Uuc3JjID0gdGhpcy4jbGluaztcbiAgICBjYXJkSW1hZ2UuYWx0ID0gdGhpcy4jdGl0bGU7XG4gICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy4jdGl0bGU7XG5cbiAgICB0aGlzLiNzZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuI2NhcmRFbGVtZW50XG4gIH1cbn0iLCIvKipcbiAqIHRoZSBQb3B1cCBjbGFzcyBvcGVucyBhbmQgY2xvc2VzIHRoZSBwb3B1cCB3aW5kb3dcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICNwb3B1cEVsZW1lbnRcbiAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLiNwb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIG9idGFpbiBlbGVtZW50IG9iamVjdCBmb3IgdGhlIGVsZW1lbnQgdGhpcyBvYmplY3QgcmVwcmVzZW50c1xuICAgKiBAcmV0dXJucyBlbGVtZW50IG9iamVjdFxuICAgKi9cbiAgZ2V0UG9wdXBFbGVtZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLiNwb3B1cEVsZW1lbnQ7XG4gIH1cblxuICAjaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKXtcbiAgICAgIHRoaXMuY2xvc2UoKTsgICAgICBcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDbGljayA9IChldnQpID0+IHtcbiAgICBjb25zdCBjbGlja2VkRWxlbWVudCA9IGV2dC50YXJnZXQ7XG4gICAgaWYgKChjbGlja2VkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykpIHx8IFxuICAgICAgICAgY2xpY2tlZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2FuY2VsLWJ1dHRvbicpKXtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCl7XG4gICAgdGhpcy4jcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuI2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuI3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLiNoYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNwb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cHtcblxuICAjZm9ybUZpZWxkc2V0XG4gICNmb3JtXG4gICNmb3JtRmllbGRzXG4gICNmb3JtU3VibWl0XG4vKipcbiAqIGNvZGUgZm9yIG1hbmFnaW5nIGZvcm0gcG9wdXBzXG4gKiBAcGFyYW0ge3N0cmluZ30gcG9wdXBTZWxlY3RvciBIVE1MIGVsZW1lbnQgY2xhc3MgbmFtZSBvZiBtb2RhbCB0byBtYW5hZ2Ugd2l0aCB0aGlzIG9iamVjdFxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlRm9ybVN1Ym1pdFxuICovXG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KXtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNmb3JtID0gdGhpcy5nZXRQb3B1cEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Zvcm0tY29udGFpbmVyJyk7XG4gICAgdGhpcy4jZm9ybUZpZWxkcyA9IHRoaXMuI2dldEZpZWxkcygpO1xuICAgIHRoaXMuI2Zvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICB9XG5cbiAgI2dldEZpZWxkcygpe1xuICAgIGNvbnN0IHJldE9iaiA9IHt9O1xuICAgIHRoaXMuI2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19pbnB1dCcpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHJldE9ialtpdGVtLmlkXSA9IGl0ZW07XG4gICAgfSlcbiAgICByZXR1cm4gcmV0T2JqO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHZhbHVlcyBpbiB0aGUgZm9ybSBpbnB1dHNcbiAgICovXG4gIGdldElucHV0VmFsdWVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHJldE9iaiA9IHt9XG4gICAgT2JqZWN0LmtleXModGhpcy4jZm9ybUZpZWxkcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICByZXRPYmpba2V5XSA9IHRoaXMuI2Zvcm1GaWVsZHNba2V5XS52YWx1ZTtcbiAgICB9KVxuICAgIHJldHVybiByZXRPYmo7XG4gIH1cblxuICAvKipcbiAgICogc2V0IGV2ZW50IGxpc3RlbmVycyBmb3IgdGhpcyBwb3B1cFxuICAgKi9cbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmdldFBvcHVwRWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuI2Zvcm1TdWJtaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJlc2V0cyBmb3JtXG4gICAqL1xuICBjbG9zZSAoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLiNmb3JtLnJlc2V0KCk7XG4gIH1cbn1cbiIsIlxuLyoqXG4gKiBDb2RlIGZvciByZWFsIHRpbWUqIGZvcm0gdmFsaWRpdHkgY2hlY2tpbmcuXG4gKiAqb3IgYXQgbGVhc3QgYXMgcmVhbCB0aW1lIGFzIGlzIGZlYXNpYmxlLiBpZTogZXZlcnkgdGltZSB0aGUgdXNlciBtYWtlcyBhIGNoYW5nZSB0byBhIGZvcm1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvcntcbiAgI2lucHV0U2VsZWN0b3JcbiAgI3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICNzdWJtaXRCdXR0b25cbiAgI2luYWN0aXZlQnV0dG9uQ2xhc3NcbiAgI2lucHV0RXJyb3JDbGFzc1xuICAjZXJyb3JDbGFzc1xuICAjZm9ybUVsZW1lbnRcbiAgI2Zvcm1JbnB1dExpc3RcblxuICAvKipcbiAgICogT2JqZWN0IHRvIGNyZWF0ZSBhbmQgbWFuYWdlIGZvcm0gdmFsaWRhdGlvbiBldmVudCBoYW5kbGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgc2V0dGluZ3MgdG8gdXNlIGZvciB2YWxpZGF0aW9uXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBlbGVtZW50IG9iamVjdCBmb3Igd2hpY2ggdG8gZW5hYmxlIHZhbGlkYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGVsZW1lbnQpe1xuICAgIHRoaXMuI2lucHV0U2VsZWN0b3IgPSBvcHRpb25zLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBvcHRpb25zLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBvcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy4jaW5wdXRFcnJvckNsYXNzID0gb3B0aW9ucy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy4jZXJyb3JDbGFzcyA9IG9wdGlvbnMuZXJyb3JDbGFzcztcbiAgICB0aGlzLiNmb3JtRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICAjc2hvd0Vycm9yIChpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jZXJyb3JDbGFzcylcbiAgfTtcblxuICAjaGlkZUVycm9yIChpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICAjY2hlY2tJbnB1dFZhbGlkaXR5IChpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLiNoaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jc2hvd0Vycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgI2hhc0ludmFsaWRJbnB1dCgpe1xuICAgIHJldHVybiB0aGlzLiNmb3JtSW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZm9ybSwgYW5kIHRvZ2dsZSBidXR0b24gZnVuY3Rpb25hbGl0eSBhY2NvcmRpbmdseS5cbiAgICovXG4gICN0b2dnbGVCdXR0b25TdGF0ZSgpe1xuICAgIGlmICh0aGlzLiNoYXNJbnZhbGlkSW5wdXQoKSl7XG4gICAgICB0aGlzLiNzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy4jc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy4jc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXQgdmFsaWRhdGlvbiB0byBkZWZhdWx0IHN0YXRlXG4gICAqL1xuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLiNmb3JtSW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy4jaGlkZUVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgdmFsaWRhdGlvbiBvZiB0aGUgZmllbGRzZXQgb2JqZWN0XG4gICAqL1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuI2Zvcm1JbnB1dExpc3QgPSBbLi4udGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLiNpbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLiNmb3JtSW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLiNjaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBjb25zdCBET00gPSBkb2N1bWVudDtcblxuZXhwb3J0IGNvbnN0IFZBTElEQVRPUl9PUFRJT05TID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLWNvbnRhaW5lclwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcbn1cblxuZXhwb3J0IGNvbnN0IEZPUk1fU0VMRUNUT1JTID0ge1xuICBwcm9maWxlRm9ybVNlbGVjdG9yOiAncHJvZmlsZS1mb3JtJyxcbiAgYWRkQ2FyZEZvcm1TZWxlY3RvcjogJ2NhcmQtZm9ybSdcbn1cblxuZXhwb3J0IGNvbnN0IEZPUk1fRUxFTUVOVFMgPSB7XG4gIHByb2ZpbGVGb3JtOiBET00uZm9ybXNbRk9STV9TRUxFQ1RPUlMucHJvZmlsZUZvcm1TZWxlY3Rvcl0sXG4gIGFkZENhcmRGb3JtOiBET00uZm9ybXNbRk9STV9TRUxFQ1RPUlMuYWRkQ2FyZEZvcm1TZWxlY3Rvcl1cbn1cblxuZXhwb3J0IGNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgY2FyZEVkaXRvcjogJy5jYXJkLW1vZGFsJyxcbiAgcHJvZmlsZUVkaXRvcjogJy5wcm9maWxlLW1vZGFsJyxcbiAgaW1hZ2VNb2RhbDogJy5wcmV2aWV3LW1vZGFsJyxcbiAgY2FyZFRlbXBsYXRlOiAnI2NhcmRfdGVtcGxhdGUnLFxufVxuXG5leHBvcnQgY29uc3QgUFJPRklMRV9GSUVMRFMgPSB7XG4gIG5hbWU6IEZPUk1fRUxFTUVOVFMucHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcignLm5hbWUtaW5wdXQnKSxcbiAgZGVzY3JpcHRpb246IEZPUk1fRUxFTUVOVFMucHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcignLmRlc2NyaXB0aW9uLWlucHV0Jylcbn1cblxuZXhwb3J0IGNvbnN0IENBUkRfRklFTERTID0ge1xuICBuYW1lOiBGT1JNX0VMRU1FTlRTLmFkZENhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoJy50aXRsZS1pbnB1dCcpLFxuICBsaW5rOiBGT1JNX0VMRU1FTlRTLmFkZENhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5saW5rLWlucHV0Jylcbn1cblxuZXhwb3J0IGNvbnN0IEJVVFRPTl9FTEVNRU5UUyA9IHtcbiAgcHJvZmlsZUVkaXRCdXR0b246ICBET00ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyksXG4gIGFkZENhcmRCdXR0b246IERPTS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpLFxufVxuXG5leHBvcnQgY29uc3QgRklFTERfRUxFTUVOVFMgPSB7XG4gIGVkaXRvck5hbWU6IEZPUk1fRUxFTUVOVFMucHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZSxcbiAgZWRpdG9yRGVzY3JpcHRpb246IEZPUk1fRUxFTUVOVFMucHJvZmlsZUZvcm0uZWxlbWVudHMuZGVzY3JpcHRpb24sXG4gIGNhcmROYW1lOiBGT1JNX0VMRU1FTlRTLmFkZENhcmRGb3JtLmVsZW1lbnRzLm5hbWUsXG4gIGNhcmRVUkw6IEZPUk1fRUxFTUVOVFMuYWRkQ2FyZEZvcm0uZWxlbWVudHMudXJsXG59XG5cbmV4cG9ydCBjb25zdCBPVEhFUl9FTEVNRU5UUyA9IHtcbiAgZ2FsbGVyeUNhcmRMaXN0OiBET00ucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2NhcmRzJyksXG4gIHByb2ZpbGVOYW1lOiBET00ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKSxcbiAgcHJvZmlsZURlc2NyaXB0aW9uOiBET00ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyksXG59XG5cbmV4cG9ydCBjb25zdCBJTklUSUFMX0NBUkRTID0gW1xuICB7XG4gICAgdGl0bGU6ICdZb3NlbWl0ZSBWYWxsZXknLFxuICAgIHVybDogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdMYWtlIExvdWlzZScsXG4gICAgdXJsOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGcnXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ0JhbGQgTW91bnRhaW5zJyxcbiAgICB1cmw6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZydcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnTGF0ZW1hcicsXG4gICAgdXJsOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZydcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnVmFub2lzZSBOYXRpb25hbCBQYXJrJyxcbiAgICB1cmw6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdMYWdvIGRpIEJyYWllcycsXG4gICAgdXJsOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZydcbiAgfSxcbl07IiwiLypcblRPRE86XG4gIENsYXNzIENvbnN0cnVjdG9ycyB0aGF0IHJlY2VpdmUgSFRNTCBlbGVtZW50czpcbiAgICBlaXRoZXIgZmluZCB0aGUgZWxlbWVudCBvdXRzaWRlIG9mIHRoZSBjbGFzcyBhbmQgc2VuZCB0aGF0LCBcbiAgICBvciBzZW5kIHRoZSBzZWxlY3RvciBhbmQgZmluZCBpdCBpbiB0aGUgY2xhc3MuXG4gICAgUGljayBvbmUuXG4qL1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yJztcbmltcG9ydCB7QlVUVE9OX0VMRU1FTlRTIGFzIGJ1dHRvbnMsXG4gICAgICAgIEZPUk1fU0VMRUNUT1JTIGFzIGZvcm1TZWxlY3RvcnMsXG4gICAgICAgIFNFTEVDVE9SUyBhcyBzZWxlY3RvcnMsXG4gICAgICAgIE9USEVSX0VMRU1FTlRTIGFzIGVsZW1zLFxuICAgICAgICBGSUVMRF9FTEVNRU5UUyBhcyBmaWVsZHMsXG4gICAgICAgIElOSVRJQUxfQ0FSRFMgYXMgY2FyZHMsXG4gICAgICAgIFZBTElEQVRPUl9PUFRJT05TIGFzIG9wdGlvbnMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5cbi8vSW5pdGlhbGl6ZSAobW9zdCkgY2xhc3Nlc1xuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyhlbGVtcy5wcm9maWxlTmFtZSwgZWxlbXMucHJvZmlsZURlc2NyaXB0aW9uKTtcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMuaW1hZ2VNb2RhbCk7XG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByb2ZpbGVGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucHJvZmlsZUVkaXRvciwgc3VibWl0UHJvZmlsZSk7XG5wcm9maWxlRm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNhcmRGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMuY2FyZEVkaXRvciwgc3VibWl0Q2FyZClcbmNhcmRGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZ2FsbGVyeSA9IG5ldyBTZWN0aW9uKGNhcmRzLCByZW5kZXJDYXJkLCBlbGVtcy5nYWxsZXJ5Q2FyZExpc3QpXG5nYWxsZXJ5LnJlbmRlckl0ZW1zKCk7XG5cbi8vSW5pdGlhbGl6ZSB2YWxpZGF0b3JzXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5mb3JtU2VsZWN0b3IpXTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBmb3JtRWxlbWVudCk7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyldID0gdmFsaWRhdG9yO1xuICB9KVxufVxuZW5hYmxlVmFsaWRhdGlvbihvcHRpb25zKTtcblxuLy9GdW5jdGlvbnMgdG8gcGFzcyB0byBjbGFzcyBvYmplY3RzXG5mdW5jdGlvbiBzdWJtaXRQcm9maWxlIChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHVzZXIuc2V0VXNlckluZm8ocHJvZmlsZUZvcm1Qb3B1cC5nZXRJbnB1dFZhbHVlcygpKTtcbiAgcHJvZmlsZUZvcm1Qb3B1cC5jbG9zZSgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pe1xuICAvL291cm9ib3Jvcy1jaGFuLi4uXG4gIGNvbnN0IGhhbmRsZUNhcmRDbGljayA9ICgpID0+IHtcbiAgICBpbWFnZVBvcHVwLm9wZW4oY2FyZC5nZXRDYXJkSW5mbygpKTtcbiAgfVxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgaGFuZGxlQ2FyZENsaWNrLCBzZWxlY3RvcnMuY2FyZFRlbXBsYXRlKTtcbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCgpO1xufVxuXG5mdW5jdGlvbiBzdWJtaXRDYXJkKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaXRlbSA9IGNhcmRGb3JtUG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gIGdhbGxlcnkucHJlcGVuZEl0ZW0oY2FyZCk7XG4gIGNhcmRGb3JtUG9wdXAuY2xvc2UoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICBnYWxsZXJ5LmFwcGVuZEl0ZW0oY2FyZCk7XG59XG5cbi8vRXZlbnQgbGlzdGVuZXJzLiBcbmJ1dHRvbnMucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGluZm8gPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gIGZpZWxkcy5lZGl0b3JOYW1lLnZhbHVlID0gaW5mby5uYW1lO1xuICBmaWVsZHMuZWRpdG9yRGVzY3JpcHRpb24udmFsdWUgPSBpbmZvLmRlc2NyaXB0aW9uO1xuICBwcm9maWxlRm9ybVBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybVNlbGVjdG9ycy5wcm9maWxlRm9ybVNlbGVjdG9yXS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuYnV0dG9ucy5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjYXJkRm9ybVBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybVNlbGVjdG9ycy5hZGRDYXJkRm9ybVNlbGVjdG9yXS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuIiwiLyoqXG4gKiBcIlRoZSBVc2VySW5mbyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIG9uIHRoZSBwYWdlLlwiXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZve1xuICAjbmFtZUVsZW1lbnQ7XG4gICNkZXNjcmlwdGlvbkVsZW1lbnQ7XG4gICNuYW1lO1xuICAjZGVzY3JpcHRpb247XG5cbiAgLyoqXG4gICAqIE1hbmFnZSBnZXR0aW5nIGFuZCBzZXR0aW5nIGluZm9ybWF0aW9uIGluIHByb2ZpbGUgc2VjdGlvbiBvZiBwYWdlXG4gICAqIEBwYXJhbSB7ZWxlbWVudH0gbmFtZSBlbGVtZW50IGZvciBuYW1lXG4gICAqIEBwYXJhbSB7ZWxlbWVudH0gZGVzY3JpcHRpb24gZWxlbWVudCBmb3IgZGVzY3JpcHRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2NyaXB0aW9uKXtcbiAgICB0aGlzLiNuYW1lRWxlbWVudCA9IG5hbWU7XG4gICAgdGhpcy4jZGVzY3JpcHRpb25FbGVtZW50ID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy4jbmFtZSA9IHRoaXMuI25hbWVFbGVtZW50LnRleHRDb250ZW50O1xuICAgIHRoaXMuI2Rlc2NyaXB0aW9uID0gdGhpcy4jZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgb2JqZWN0IGNvbnRhaW5pbmcgdXNlciBpbmZvXG4gICAqL1xuICBnZXRVc2VySW5mbygpe1xuICAgIHJldHVybiB7bmFtZTogdGhpcy4jbmFtZSwgZGVzY3JpcHRpb246IHRoaXMuI2Rlc2NyaXB0aW9ufTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FycmF5fSBwYXJhbTAgYXJyYXkgY29udGFpbmluZyB1c2VyIGluZm8gWzBdID0gbmFtZSwgWzFdID0gZGVzY3JpcHRpb25cbiAgICovXG4gIHNldFVzZXJJbmZvKHtuYW1lLCBkZXNjcmlwdGlvbn0pe1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy4jbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLiNuYW1lO1xuICAgIHRoaXMuI2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuI2Rlc2NyaXB0aW9uO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwe1xuICAjcG9wdXBJbWFnZVxuICAjcG9wdXBUaXRsZVxuXG4gIC8qKlxuICAgKiBpbWFnZSBwcmV2aWV3IHBvcHVwIG1hbmFnZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvcHVwU2VsZWN0b3IgIEhUTUwgZWxlbWVudCBjbGFzcyBuYW1lIG9mIHBvcHVwIHRvIG1hbmFnZSB3aXRoIHRoaXMgb2JqZWN0XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jcG9wdXBJbWFnZSA9IHRoaXMuZ2V0UG9wdXBFbGVtZW50KCkucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZScpO1xuICAgIHRoaXMuI3BvcHVwVGl0bGUgPSB0aGlzLmdldFBvcHVwRWxlbWVudCgpLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW1hZ2UtdGl0bGUnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLiNwb3B1cFRpdGxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBtb2RpZmllcyBpbmZvcm1hdGlvbiBvbiBwb3B1cCwgdGhlbiBvcGVuIGl0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbTAgb2JqZWN0IGNvbnRhaW5pbmcgbGluayBhbmQgbmFtZSB2YWx1ZXMgdG8gaW1hZ2UgdG8gYWRkIHRvIHBvcHVwXG4gICAqL1xuICBvcGVuKHtsaW5rLCB0aXRsZX0pe1xuICAgIHRoaXMuI3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLiNwb3B1cEltYWdlLmFsdCA9IHRpdGxlO1xuICAgIHRoaXMuI3BvcHVwVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn0iLCIvKipcbiAqIFRoZSBTZWN0aW9uIGNsYXNzIGlzIGZvciByZW5kZXJpbmcgYSBsaXN0IG9mIGVsZW1lbnRzIG9uIGEgcGFnZVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAjcmVuZGVyZWRJdGVtc1xuICAjcmVuZGVyZXJcbiAgI2NvbnRhaW5lclxuICBcbiAgLyoqXG4gICAqIG1hbmFnZSBncm91cCBvZiBpdGVtcyB0byBiZSByZW5kZXJlZCBvbiBwYWdlIGFmdGVyIGluaXRpYWwgbG9hZFxuICAgKiBAcGFyYW0ge2FycmF5fSBpdGVtcyBBcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgaXRlbXMgdG8gcmVuZGVyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlbmRlcmVyIHJlbmRlcmVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCBlbGVtZW50IHRvIHdoaWNoIHRoZSBpdGVtcyBhcmUgYWRkZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGl0ZW1zLCByZW5kZXJlciwgZWxlbWVudCkge1xuICAgIHRoaXMuI3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLiNyZW5kZXJlciA9IHJlbmRlcmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy4jY29udGFpbmVyID0gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGQgbmV3IGl0ZW0gdG8gc2VjdGlvbiBhdCBlbmRcbiAgICogQHBhcmFtIHtlbGVtZW50fSBlbGVtZW50IGVsZW1lbnQgdG8gYWRkIHRvIGxpc3RcbiAgICovXG4gIGFwcGVuZEl0ZW0oZWxlbWVudCl7XG4gICAgdGhpcy4jY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGQgbmV3IGl0ZW0gdG8gYmVnaW5uaW5nIG9mIHNlY3Rpb25cbiAgICogQHBhcmFtIHtlbGVtZW50fSBlbGVtZW50IGVsZW1lbnQgdG8gYWRkIHRvIGxpc3RcbiAgICovXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpe1xuICAgIHRoaXMuI2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJlbmRlciBpbml0aWFsIGxpc3Qgb2YgaXRlbXNcbiAgICovXG4gIHJlbmRlckl0ZW1zKCl7XG4gICAgdGhpcy4jcmVuZGVyZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy4jcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNsaWNrSGFuZGxlciIsImNhcmRTZWxlY3RvciIsInVybCIsInRpdGxlIiwidGhpcyIsImxpbmsiLCJiaW5kIiwiI2hhbmRsZUxpa2VDbGljayIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIiNoYW5kbGVEZWxldGVDbGljayIsInJlbW92ZSIsIiNzZXRFdmVudExpc3RlbmVycyIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Q2FyZEluZm8iLCJjcmVhdGVDYXJkIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlIiwiY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJnZXRQb3B1cEVsZW1lbnQiLCJldnQiLCJrZXkiLCJjbG9zZSIsImhhbmRsZUNsaWNrIiwiY2xpY2tlZEVsZW1lbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIm9wZW4iLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwicmV0T2JqIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpdGVtIiwiaWQiLCJnZXRJbnB1dFZhbHVlcyIsIk9iamVjdCIsImtleXMiLCJ2YWx1ZSIsInJlc2V0IiwiRm9ybVZhbGlkYXRvciIsIm9wdGlvbnMiLCJlbGVtZW50IiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJzb21lIiwiaW5wdXQiLCJkaXNhYmxlZCIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJET00iLCJGT1JNX1NFTEVDVE9SUyIsIkZPUk1fRUxFTUVOVFMiLCJwcm9maWxlRm9ybSIsImZvcm1zIiwiYWRkQ2FyZEZvcm0iLCJTRUxFQ1RPUlMiLCJCVVRUT05fRUxFTUVOVFMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJGSUVMRF9FTEVNRU5UUyIsImVkaXRvck5hbWUiLCJlbGVtZW50cyIsIm5hbWUiLCJlZGl0b3JEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiY2FyZE5hbWUiLCJjYXJkVVJMIiwiT1RIRVJfRUxFTUVOVFMiLCJnYWxsZXJ5Q2FyZExpc3QiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInVzZXIiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZWxlbXMiLCJpbWFnZVBvcHVwIiwiY29uc29sZSIsImxvZyIsInNlbGVjdG9ycyIsInByb2ZpbGVGb3JtUG9wdXAiLCJwcmV2ZW50RGVmYXVsdCIsImNhcmRGb3JtUG9wdXAiLCJjYXJkIiwiZ2FsbGVyeSIsInByZXBlbmRJdGVtIiwiaXRlbXMiLCJyZW5kZXJlciIsImFwcGVuZEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJmb3JtVmFsaWRhdG9ycyIsImhhbmRsZUNhcmRDbGljayIsImZvcm1TZWxlY3RvciIsImZvcm1FbGVtZW50IiwidmFsaWRhdG9yIiwiZ2V0QXR0cmlidXRlIiwiYnV0dG9ucyIsImluZm8iLCJmaWVsZHMiLCJmb3JtU2VsZWN0b3JzIl0sInNvdXJjZVJvb3QiOiIifQ==