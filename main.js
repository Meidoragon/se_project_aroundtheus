!function(){"use strict";class t{#t;#e;#s;#n;#r;#i;#o;#a;#l;#d;#c;#h;#u;constructor(t,e,s){let{handleImageClick:n,confirmDeletion:r,handleLikeClick:i}=e;this.#t=t.name,this.#e=t.link,this.#s=t.isLiked,this.#n=t._id,this.#r={title:this.#t,link:this.#e},this.#c=n,this.#h=r,this.#u=i,this.#i=s,this.#o=document.querySelector(this.#i).content.querySelector(".card").cloneNode(!0),this.#a=this.#o.querySelector(".card__button_type_like-inactive"),this.#l=this.#o.querySelector(".card__button_type_delete"),this.#d=this.#o.querySelector(".card__image")}#m=()=>{this.#h()};#p=()=>{this.#a.addEventListener("mousedown",(()=>{this.#u(this.#s)})),this.#l.addEventListener("mousedown",(()=>{this.#m()})),this.#d.addEventListener("mousedown",(()=>{this.#c()}))};#E(){this.#s?this.#a.classList.add("card__button_type_like-active"):this.#a.classList.remove("card__button_type_like-active")}getCardInfo(){return this.#r}getCardId(){return this.#n}getCardElement(){return this.#o}setIsLiked(t){this.#s=t,this.#E()}remove(){this.#o.remove(),this.#o=null}createCard=()=>{const t=this.#o.querySelector(".card__image"),e=this.#o.querySelector(".card__title");return t.src=this.#e,t.alt=this.#t,e.textContent=this.#t,this.#E(),this.#p(),this.#o}}class e{#f;#L;#v;constructor(t,e,s){this.#f=t,this.#L=e,this.#v=s}appendItem(t){this.#v.append(t)}prependItem(t){this.#v.prepend(t)}renderItems(){this.#f.forEach((t=>{this.#L(t)}))}}class s{#g;constructor(t){this.#g=document.querySelector(t)}getPopupElement=()=>this.#g;#C=t=>{"Escape"===t.key&&this.close()};handleClick=t=>{const e=t.target;(e.classList.contains("modal")||e.classList.contains("modal__cancel-button"))&&this.close()};open(){this.#g.classList.add("modal_opened"),document.addEventListener("keydown",this.#C)}close(){this.#g.classList.remove("modal_opened"),document.removeEventListener("keydown",this.#C)}setEventListeners(){this.#g.addEventListener("mousedown",this.handleClick)}}class n extends s{#b;#_;#k;#y;#I;#S;constructor(t,e,s){super(t),this.#b=this.getPopupElement().querySelector(".modal__form-container"),this.#_=this.#B(),this.#k=e,this.#y=this.#b.querySelector(".modal__button"),this.#S=this.#y.textContent,this.#I=s}#B(){const t={};return this.#b.querySelectorAll(".modal__input").forEach((e=>{t[e.id]=e})),t}showLoading(){this.#y.textContent=this.#I}hideLoading(){this.#y.textContent=this.#S}getInputValues=()=>{const t={};return Object.keys(this.#_).forEach((e=>{t[e]=this.#_[e].value})),t};setEventListeners=()=>{super.setEventListeners(),this.getPopupElement().addEventListener("submit",this.#k)};close(){super.close(),this.#b.reset()}}class r{#q;#x;#w;constructor(t,e){this.#q=t.nameElement,this.#x=t.descriptionElement,this.#w=t.avatarElement,this.setUserInfo(e),this.updateAvatar(e.avatar)}getUserInfo(){return{username:this.#q.textContent,description:this.#x.textContent}}setUserInfo(t){this.#q.textContent=t.name,this.#x.textContent=t.about}updateAvatar(t){this.#w.src=t}}class i{#T;#U;#y;#R;#A;#D;#F;#P;constructor(t,e){this.#T=t.inputSelector,this.#U=t.submitButtonSelector,this.#R=t.inactiveButtonClass,this.#A=t.inputErrorClass,this.#D=t.errorClass,this.#F=e,this.#y=this.#F.querySelector(this.#U)}#$(t){const e=this.#F.querySelector(`.${t.id}-error`);t.classList.add(this.#A),e.textContent=t.validationMessage,e.classList.add(this.#D)}#V(t){const e=this.#F.querySelector(`.${t.id}-error`);t.classList.remove(this.#A),e.classList.remove(this.#D),e.textContent=""}#N(t){t.validity.valid?this.#V(t):this.#$(t)}#M(){return this.#P.some((t=>!t.validity.valid))}#O(){this.#M()?(this.#y.disabled=!0,this.#y.classList.add(this.#R)):(this.#y.disabled=!1,this.#y.classList.remove(this.#R))}resetValidation(){this.#O(),this.#P.forEach((t=>{this.#V(t)}))}enableValidation(){this.#P=[...this.#F.querySelectorAll(this.#T)],this.#O(),this.#P.forEach((t=>{t.addEventListener("input",(e=>{this.#O(),this.#N(t)}))}))}}const o=document,a="profile-form",l="card-form",d={profileForm:o.forms[a],addCardForm:o.forms[l]},c={cardEditor:".card-modal",profileEditor:".profile-modal",imageModal:".preview-modal",confirmationModal:".confirmation-modal",avatarModal:".update-avatar-modal",cardTemplate:"#card_template"},h=(d.profileForm.querySelector(".name-input"),d.profileForm.querySelector(".description-input"),d.addCardForm.querySelector(".title-input"),d.addCardForm.querySelector(".link-input"),{profileEditButton:o.querySelector(".profile__edit-button"),addCardButton:o.querySelector(".profile__add-button"),avatarEditButton:o.querySelector(".profile__avatar-overlay"),profileSubmitButton:o.getElementById("profile-submit-button"),cardSubmitButton:o.getElementById("card-submit-button"),avatarSubmitButton:o.getElementById("avatar-submit-button"),confirmationButton:o.getElementById("confirmation-button")}),u={editorName:d.profileForm.elements.username,editorDescription:d.profileForm.elements.description,cardName:d.addCardForm.elements.name,cardURL:d.addCardForm.elements.url},m={galleryCardList:o.querySelector(".gallery__cards"),profileName:o.querySelector(".profile__name"),profileDescription:o.querySelector(".profile__description"),profileAvatar:o.querySelector(".profile__avatar")},p=new class extends s{#j;#J;constructor(t){super(t),this.#j=this.getPopupElement().querySelector(".modal__image"),this.#J=this.getPopupElement().querySelector(".modal__image-title")}open(t){let{link:e,title:s}=t;this.#j.src=e,this.#j.alt=s,this.#J.textContent=s,super.open()}}(c.imageModal);p.setEventListeners();const E=new n(c.profileEditor,(function(t){t.preventDefault();const e={name:E.getInputValues().username,about:E.getInputValues().description};E.showLoading(),S.patchUserInfo(e).then((t=>{C.setUserInfo(t),E.close()})).catch((t=>{S.catchErrors(t)})).finally((()=>{E.hideLoading()}))}),"Saving...");E.setEventListeners();const f=new n(c.cardEditor,(function(t){t.preventDefault(),f.showLoading(),S.addNewCard(f.getInputValues()).then((t=>{const e=y(t);g.prependItem(e),f.close()})).catch((t=>{console.error(t)})).finally((()=>{f.hideLoading()}))}),"Saving...");f.setEventListeners();const L=new n(c.avatarModal,(function(t){t.preventDefault(),L.showLoading(),S.updateAvatar(L.getInputValues()).then((t=>{C.updateAvatar(t.avatar),L.close()})).catch((t=>{S.catchErrors(t)})).finally((()=>{L.hideLoading()}))}),"Saving...");L.setEventListeners();const v=new class extends s{#H;#z;#G;#S;#I;constructor(t,e,s){super(t),this.#H=this.getPopupElement().querySelector(".modal__button"),this.#I=s,this.#S=this.#H.textContent}#K=()=>{this.#z(this.#G)};setAction(t,e){this.#z=t,e&&(this.#G=e)}showLoading(){this.#H.textContent=this.#I}hideLoading(){this.#H.textContent=this.#S}setEventListeners(){super.setEventListeners(),this.#H.addEventListener("mousedown",this.#K)}}(c.confirmationModal,I,"Deleting...");let g,C;v.setEventListeners();const b={};var _;function k(t){const e=y(t);g.appendItem(e)}function y(e){const s=new t(e,{handleImageClick:()=>{p.open(s.getCardInfo())},confirmDeletion:()=>{v.setAction(I,{card:s}),v.open()},handleLikeClick:t=>{t?S.removeCardLike(s.getCardId()).then((t=>s.setIsLiked(t.isLiked))).catch((t=>S.catchErrors(t))):S.addCardLike(s.getCardId()).then((t=>s.setIsLiked(t.isLiked))).catch((t=>S.catchErrors(t)))}},c.cardTemplate);return s.createCard()}function I(t){let{card:e}=t;console.log(e),v.showLoading(),S.deleteCard(e.getCardId()).then((t=>{e.remove(),e=null,v.close()})).catch((t=>{S.catchErrors(t)})).finally((()=>{v.hideLoading()}))}_={formSelector:".modal__form-container",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},[...document.querySelectorAll(_.formSelector)].forEach((t=>{const e=new i(_,t);e.enableValidation(),b[t.getAttribute("id")]=e})),h.profileEditButton.addEventListener("click",(()=>{const t=C.getUserInfo();u.editorName.value=t.username,u.editorDescription.value=t.description,b[a].resetValidation(),E.open()})),h.addCardButton.addEventListener("click",(()=>{b[l].resetValidation(),f.open()})),h.avatarEditButton.addEventListener("click",(()=>{b["avatar-form"].resetValidation(),L.open()}));const S=new class{#Q;#W;constructor(t){this.#Q=t.baseURL,this.#W=t.headers}#X(t){return t.ok?t.json():Promise.reject(`Error: ${t.status}`)}catchErrors(t){console.error(`Error: ${t.status}`)}addNewCard(t){return fetch(`${this.#Q}/cards`,{method:"POST",headers:this.#W,body:JSON.stringify(t)}).then(this.#X)}patchUserInfo(t){return fetch(`${this.#Q}/users/me`,{method:"PATCH",headers:this.#W,body:JSON.stringify(t)}).then(this.#X)}deleteCard(t){return fetch(`${this.#Q}/cards/${t}`,{method:"DELETE",headers:this.#W}).then(this.#X)}updateAvatar(t){return fetch(`${this.#Q}/users/me/avatar`,{method:"PATCH",headers:this.#W,body:JSON.stringify({avatar:t.avatar})}).then(this.#X)}getUserInfo(){return fetch(`${this.#Q}/users/me`,{headers:this.#W}).then(this.#X)}getCardList(){return fetch(`${this.#Q}/cards`,{headers:this.#W}).then(this.#X)}addCardLike(t){return fetch(`${this.#Q}/cards/${t}/likes`,{method:"PUT",headers:this.#W}).then(this.#X)}removeCardLike(t){return fetch(`${this.#Q}/cards/${t}/likes`,{method:"DELETE",headers:this.#W}).then(this.#X)}}({baseURL:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"855bc2dc-d7e9-4b86-b39d-0756d927d932","Content-Type":"application/json"}});Promise.all([S.getCardList(),S.getUserInfo()]).then((t=>{let[s,n]=t;C=new r({nameElement:m.profileName,descriptionElement:m.profileDescription,avatarElement:m.profileAvatar},n),g=new e(s,k,m.galleryCardList),g.renderItems()})).catch((t=>{S.catchErrors(t)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FQSS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJke1xuICAjbmFtZTtcbiAgI2xpbms7XG4gICNpc0xpa2VkXG4gICNjYXJkSWRcbiAgI2NhcmRJbmZvXG4gICNjYXJkU2VsZWN0b3I7XG4gICNjYXJkRWxlbWVudDtcbiAgI2xpa2VCdXR0b247XG4gICNkZWxldGVCdXR0b247XG4gICNjYXJkSW1hZ2U7XG4gICNoYW5kbGVJbWFnZUNsaWNrXG4gICNjb25maXJtRGVsZXRpb25cbiAgI2hhbmRsZUxpa2VDbGlja1xuICBcblxuICAvKipcbiAgICogQ29kZSBmb3IgY3JlYXRpbmcgbmV3IGNhcmRzIGZyb20gYSB0ZW1wbGF0ZSBhbmQgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHRleHQgYW5kIGltYWdlIHVybFxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSB7bGluaywgbmFtZSwgX2lkfSBvYmplY3QgY29udGFpbmluZyB0aGUgLnRleHQgYW5kIGltYWdlIC5saW5rIHdpdGggd2hpY2ggdG8gbWFrZSB0aGUgY2FyZCBhcyB3ZWxsIGFzIHRoZSAuX2lkIG9mIHRoZSBjYXJkIG9uIHRoZSBzZXJ2ZXJcbiAgICogQHBhcmFtIHtFbGVtZW50fSBjYXJkU2VsZWN0b3IgdGhlIHRlbXBsYXRlIGVsZW1lbnQgdGhhdCBnZXRzIHVzZWQgdG8gYnVpbGQgdGhlIGNhcmQgZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoaXRlbSwge2hhbmRsZUltYWdlQ2xpY2ssIGNvbmZpcm1EZWxldGlvbiwgaGFuZGxlTGlrZUNsaWNrfSwgY2FyZFNlbGVjdG9yKXtcbiAgICB0aGlzLiNuYW1lID0gaXRlbS5uYW1lO1xuICAgIHRoaXMuI2xpbmsgPSBpdGVtLmxpbms7XG4gICAgdGhpcy4jaXNMaWtlZCA9IGl0ZW0uaXNMaWtlZDtcbiAgICB0aGlzLiNjYXJkSWQgPSBpdGVtLl9pZDtcbiAgICB0aGlzLiNjYXJkSW5mbyA9IHt0aXRsZTogdGhpcy4jbmFtZSwgbGluazogdGhpcy4jbGlua307XG4gICAgdGhpcy4jaGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy4jY29uZmlybURlbGV0aW9uID0gY29uZmlybURlbGV0aW9uO1xuICAgIHRoaXMuI2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLiNjYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG5cbiAgICB0aGlzLiNjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy4jY2FyZFNlbGVjdG9yKVxuICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy4jbGlrZUJ1dHRvbiA9IHRoaXMuI2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19idXR0b25fdHlwZV9saWtlLWluYWN0aXZlJyk7XG4gICAgdGhpcy4jZGVsZXRlQnV0dG9uID0gdGhpcy4jY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbl90eXBlX2RlbGV0ZScpO1xuICAgIHRoaXMuI2NhcmRJbWFnZSA9IHRoaXMuI2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xuICB9XG5cbiAgLy8gI2hhbmRsZUxpa2VDbGljayA9ICgpID0+IHtcbiAgLy8gICBhbGVydCgnaGknKTtcbiAgLy8gICB0aGlzLiNzZW5kTGlrZUluZm8odGhpcy4jaXNMaWtlZCk7XG4gIC8vICAgdGhpcy4jbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19idXR0b25fdHlwZV9saWtlLWFjdGl2ZScpO1xuICAvLyB9XG5cbiAgI2hhbmRsZURlbGV0ZUNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMuI2NvbmZpcm1EZWxldGlvbigpO1xuICB9XG5cbiAgI3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuI2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgdGhpcy4jaGFuZGxlTGlrZUNsaWNrKHRoaXMuI2lzTGlrZWQpO1xuICAgIH0pO1xuICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVEZWxldGVDbGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMuI2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVJbWFnZUNsaWNrKCk7XG4gICAgfSlcbiAgfVxuXG4gICNyZW5kZXJMaWtlcygpe1xuICAgIGlmICh0aGlzLiNpc0xpa2VkKSB7XG4gICAgICB0aGlzLiNsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2J1dHRvbl90eXBlX2xpa2UtYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fYnV0dG9uX3R5cGVfbGlrZS1hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogb2J0YWluIG9iamVjdCB3aXRoIGNhcmQgaW5mb1xuICAgKiBAcmV0dXJucyBvYmplY3Qgd2l0aCB0aGUgbmFtZSBvZiBhbmQgdXJsIHRvIHRoZSByZWxldmFudCBpbWFnZVxuICAgKi9cbiAgZ2V0Q2FyZEluZm8oKXtcbiAgICByZXR1cm4gdGhpcy4jY2FyZEluZm87XG4gIH1cblxuICAvKipcbiAgICogZ2V0cyBpZCBnZW5lcmF0ZWQgYnkgYXBpXG4gICAqIEByZXR1cm5zIGlkXG4gICAqL1xuICBnZXRDYXJkSWQoKXtcbiAgICByZXR1cm4gdGhpcy4jY2FyZElkO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldHMgdGhlIGVsZW1lbnQgYXR0YWNoZWQgdG8gdGhpcyBjYXJkIG9iamVjdFxuICAgKiBAcmV0dXJucyBlbGVtZW50XG4gICAqL1xuICBnZXRDYXJkRWxlbWVudCgpe1xuICAgIHJldHVybiB0aGlzLiNjYXJkRWxlbWVudDtcbiAgfVxuXG4gIHNldElzTGlrZWQoaXNMaWtlZCl7XG4gICAgdGhpcy4jaXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy4jcmVuZGVyTGlrZXMoKTtcbiAgfVxuXG4gIHJlbW92ZSgpe1xuICAgIHRoaXMuI2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuI2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIHRoZSBlbnRpcmUgY2FyZCBlbGVtZW50LCByZWFkeSB0byBiZSBkaXNwbGF5ZWQuXG4gICAqIEByZXR1cm5zIHRoZSBjYXJkIGVsZW1lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGNhcmQgZ3JpZFxuICAgKi9cbiAgY3JlYXRlQ2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLiNjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcbiAgICBjb25zdCBjYXJkVGl0bGUgPSB0aGlzLiNjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcblxuICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLiNsaW5rO1xuICAgIGNhcmRJbWFnZS5hbHQgPSB0aGlzLiNuYW1lO1xuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuI25hbWU7XG5cbiAgICB0aGlzLiNyZW5kZXJMaWtlcygpO1xuICAgIHRoaXMuI3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy4jY2FyZEVsZW1lbnRcbiAgfVxufSIsIi8qKlxuICogVGhlIFNlY3Rpb24gY2xhc3MgaXMgZm9yIHJlbmRlcmluZyBhIGxpc3Qgb2YgZWxlbWVudHMgb24gYSBwYWdlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gICNpdGVtc1xuICAjcmVuZGVyZXJcbiAgI2NvbnRhaW5lclxuICBcbiAgLyoqXG4gICAqIG1hbmFnZSBncm91cCBvZiBpdGVtcyB0byBiZSByZW5kZXJlZCBvbiBwYWdlIGFmdGVyIGluaXRpYWwgbG9hZFxuICAgKiBAcGFyYW0ge2FycmF5fSBpdGVtcyBBcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgaXRlbXMgdG8gcmVuZGVyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlbmRlcmVyIHJlbmRlcmVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCBlbGVtZW50IHRvIHdoaWNoIHRoZSBpdGVtcyBhcmUgYWRkZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGl0ZW1zLCByZW5kZXJlciwgZWxlbWVudCkge1xuICAgIHRoaXMuI2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy4jcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLiNjb250YWluZXIgPSBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIGFkZCBuZXcgaXRlbSB0byBzZWN0aW9uIGF0IGVuZFxuICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgZWxlbWVudCB0byBhZGQgdG8gbGlzdFxuICAgKi9cbiAgYXBwZW5kSXRlbShlbGVtZW50KXtcbiAgICB0aGlzLiNjb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIGFkZCBuZXcgaXRlbSB0byBiZWdpbm5pbmcgb2Ygc2VjdGlvblxuICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW1lbnQgZWxlbWVudCB0byBhZGQgdG8gbGlzdFxuICAgKi9cbiAgcHJlcGVuZEl0ZW0oZWxlbWVudCl7XG4gICAgdGhpcy4jY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogcmVuZGVyIGluaXRpYWwgbGlzdCBvZiBpdGVtc1xuICAgKi9cbiAgcmVuZGVySXRlbXMoKXtcbiAgICB0aGlzLiNpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLiNyZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiB0aGUgUG9wdXAgY2xhc3Mgb3BlbnMgYW5kIGNsb3NlcyB0aGUgcG9wdXAgd2luZG93XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICAjcG9wdXBFbGVtZW50XG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy4jcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBvYnRhaW4gZWxlbWVudCBvYmplY3QgZm9yIHRoZSBlbGVtZW50IHRoaXMgb2JqZWN0IHJlcHJlc2VudHNcbiAgICogQHJldHVybnMgZWxlbWVudCBvYmplY3RcbiAgICovXG4gIGdldFBvcHVwRWxlbWVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy4jcG9wdXBFbGVtZW50O1xuICB9XG5cbiAgI2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJyl7XG4gICAgICB0aGlzLmNsb3NlKCk7ICAgICAgXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBET00td2lkZSBjbGljayBldmVudHMgd2hpbGUgcG9wdXAgaXMgb3BlbiB0byBjaGVjayBpZiBwb3B1cCBzaG91bGQgY2xvc2VcbiAgICogQHBhcmFtIHtldmVudH0gZXZ0IGNsaWNrIGV2ZW50XG4gICAqL1xuICBoYW5kbGVDbGljayA9IChldnQpID0+IHtcbiAgICBjb25zdCBjbGlja2VkRWxlbWVudCA9IGV2dC50YXJnZXQ7XG4gICAgaWYgKChjbGlja2VkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykpIHx8IFxuICAgICAgICAgY2xpY2tlZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2FuY2VsLWJ1dHRvbicpKXtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogb3BlbnMgcG9wdXBcbiAgICovXG4gIG9wZW4oKXtcbiAgICB0aGlzLiNwb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbW9kYWxfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy4jaGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNsb3NlcyBwb3B1cFxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy4jcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuI2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXRzIGV2ZW50IGxpc3RlbmVycyBcbiAgICovXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuI3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwe1xuXG4gICNmb3JtXG4gICNmb3JtRmllbGRzXG4gICNmb3JtU3VibWl0XG4gICNzdWJtaXRCdXR0b25cbiAgI2xvYWRpbmdCdXR0b25UZXh0XG4gICNidXR0b25UZXh0XG4vKipcbiAqIGNvZGUgZm9yIG1hbmFnaW5nIGZvcm0gcG9wdXBzXG4gKiBAcGFyYW0ge3N0cmluZ30gcG9wdXBTZWxlY3RvciBIVE1MIGVsZW1lbnQgY2xhc3MgbmFtZSBvZiBtb2RhbCB0byBtYW5hZ2Ugd2l0aCB0aGlzIG9iamVjdFxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlRm9ybVN1Ym1pdFxuICovXG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0LCBsb2FkaW5nQnV0dG9uVGV4dCl7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMuZ2V0UG9wdXBFbGVtZW50KCkucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuI2Zvcm1GaWVsZHMgPSB0aGlzLiNnZXRGaWVsZHMoKTtcbiAgICB0aGlzLiNmb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24gPSB0aGlzLiNmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYnV0dG9uJylcbiAgICB0aGlzLiNidXR0b25UZXh0ID0gdGhpcy4jc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgIHRoaXMuI2xvYWRpbmdCdXR0b25UZXh0ID0gbG9hZGluZ0J1dHRvblRleHQ7XG4gIH1cblxuICAjZ2V0RmllbGRzKCl7XG4gICAgY29uc3QgcmV0T2JqID0ge307XG4gICAgdGhpcy4jZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2lucHV0JykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgcmV0T2JqW2l0ZW0uaWRdID0gaXRlbTtcbiAgICB9KVxuICAgIHJldHVybiByZXRPYmo7XG4gIH1cblxuICAvKipcbiAgICogdHVybiBvbiBjaGFuZ2VzIHRvIG1vZGFsIHJlbGF0ZWQgdG8gY29udGVudCBsb2Fkc1xuICAgKi9cbiAgc2hvd0xvYWRpbmcoKXtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLiNsb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuICBcbiAgLyoqXG4gICAqIHR1cm4gb2ZmIGNoYW5nZXMgdG8gbW9kYWwgcmVsYXRlZCB0byBjb250ZW50IGxvYWRzXG4gICAqL1xuICBoaWRlTG9hZGluZygpe1xuICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuI2J1dHRvblRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgdmFsdWVzIGluIHRoZSBmb3JtIGlucHV0c1xuICAgKi9cbiAgZ2V0SW5wdXRWYWx1ZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgcmV0T2JqID0ge31cbiAgICBPYmplY3Qua2V5cyh0aGlzLiNmb3JtRmllbGRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHJldE9ialtrZXldID0gdGhpcy4jZm9ybUZpZWxkc1trZXldLnZhbHVlO1xuICAgIH0pXG4gICAgcmV0dXJuIHJldE9iajtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGlzIHBvcHVwXG4gICAqL1xuICBzZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuZ2V0UG9wdXBFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy4jZm9ybVN1Ym1pdCk7XG4gIH1cblxuICAvKipcbiAgICogcmVzZXRzIGZvcm1cbiAgICovXG4gIGNsb3NlICgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuI2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm97XG4gICNuYW1lRWxlbWVudDtcbiAgI2Rlc2NyaXB0aW9uRWxlbWVudDtcbiAgI2F2YXRhckVsZW1lbnQ7XG5cblxuLyoqXG4gKiBNYW5hZ2UgZ2V0dGluZyBhbmQgc2V0dGluZyBpbmZvcm1hdGlvbiBpbiBwcm9maWxlIHNlY3Rpb24gb2YgcGFnZVxuICogQHBhcmFtIHtvYmplY3R9IGVsZW1lbnRzIHtuYW1lRWxlbWVudCwgZGVzY3JpcHRpb25FbGVtZW50LCBhdmF0YXJFbGVtZW50fSBlbGVtZW50cyBjb250YWluaW5nIHJlbGV2YW50IHByb2ZpbGUgaW5mb3JtYXRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSB1c2VySW5mbyB7bmFtZSwgYWJvdXQsIGF2YXRhcn0gc3RyaW5ncyBvZiB1c2VyIGluZm9ybWF0aW9uIHRvIHBvcHVwbGF0ZSBwcm9maWxlIGluZm9ybWF0aW9uIG9uIHBhZ2VcbiAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50cywgdXNlckluZm8pe1xuICAgIC8vZWxlbWVudHMgZm9yIG5hbWUsIGRlc2NyaXB0aW9uLCBhbmQgYXZhdGFyXG4gICAgdGhpcy4jbmFtZUVsZW1lbnQgPSBlbGVtZW50cy5uYW1lRWxlbWVudDtcbiAgICB0aGlzLiNkZXNjcmlwdGlvbkVsZW1lbnQgPSBlbGVtZW50cy5kZXNjcmlwdGlvbkVsZW1lbnQ7XG4gICAgdGhpcy4jYXZhdGFyRWxlbWVudCA9IGVsZW1lbnRzLmF2YXRhckVsZW1lbnQ7XG5cbiAgICAvL2Rpc3BsYXkgbmFtZSwgZGVzY3JpcHRpb24sIGFuZCBhdmF0YXIgaW4gcGFnZVxuICAgIHRoaXMuc2V0VXNlckluZm8odXNlckluZm8pXG4gICAgdGhpcy51cGRhdGVBdmF0YXIodXNlckluZm8uYXZhdGFyKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbmFtZSBhbmQgZGVzY3JpcHRpb24gdGhhdCBhcmUgY3VycmVudGx5IG9uIHBhZ2VcbiAgICogQHJldHVybnMge29iamVjdH0ge3VzZXJuYW1lLCBkZXNjcmlwdGlvbn1cbiAgICovXG4gIGdldFVzZXJJbmZvKCl7XG4gICAgcmV0dXJuIHt1c2VybmFtZTogdGhpcy4jbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsIGRlc2NyaXB0aW9uOiB0aGlzLiNkZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnR9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdXNlciBpbmZvcm1hdGlvbiBvbiBwYWdlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXdJbmZvIHtuYW1lLCBhYm91dH0gbmV3IGluZm9ybWF0aW9uIHRvIGFkZFxuICAgKi9cbiAgc2V0VXNlckluZm8obmV3SW5mbyl7XG4gICAgdGhpcy4jbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdJbmZvLm5hbWU7XG4gICAgdGhpcy4jZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmV3SW5mby5hYm91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgY3VycmVudCBhdmF0YXIgaW1hZ2Ugd2l0aCB0aGUgcHJvdmlkZWQgbGlua1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3TGluayBsaW5rIHRvIHJlcGxhY2VtZW50IGltYWdlIFxuICAgKi9cbiAgdXBkYXRlQXZhdGFyKG5ld0xpbmspe1xuICAgIHRoaXMuI2F2YXRhckVsZW1lbnQuc3JjID0gbmV3TGluaztcbiAgfVxufSIsIlxuLyoqXG4gKiBDb2RlIGZvciByZWFsIHRpbWUqIGZvcm0gdmFsaWRpdHkgY2hlY2tpbmcuXG4gKiAqb3IgYXQgbGVhc3QgYXMgcmVhbCB0aW1lIGFzIGlzIGZlYXNpYmxlLiBpZTogZXZlcnkgdGltZSB0aGUgdXNlciBtYWtlcyBhIGNoYW5nZSB0byBhIGZvcm1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvcntcbiAgI2lucHV0U2VsZWN0b3JcbiAgI3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICNzdWJtaXRCdXR0b25cbiAgI2luYWN0aXZlQnV0dG9uQ2xhc3NcbiAgI2lucHV0RXJyb3JDbGFzc1xuICAjZXJyb3JDbGFzc1xuICAjZm9ybUVsZW1lbnRcbiAgI2Zvcm1JbnB1dExpc3RcblxuICAvKipcbiAgICogT2JqZWN0IHRvIGNyZWF0ZSBhbmQgbWFuYWdlIGZvcm0gdmFsaWRhdGlvbiBldmVudCBoYW5kbGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgc2V0dGluZ3MgdG8gdXNlIGZvciB2YWxpZGF0aW9uXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBlbGVtZW50IG9iamVjdCBmb3Igd2hpY2ggdG8gZW5hYmxlIHZhbGlkYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGVsZW1lbnQpe1xuICAgIHRoaXMuI2lucHV0U2VsZWN0b3IgPSBvcHRpb25zLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBvcHRpb25zLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBvcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy4jaW5wdXRFcnJvckNsYXNzID0gb3B0aW9ucy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy4jZXJyb3JDbGFzcyA9IG9wdGlvbnMuZXJyb3JDbGFzcztcbiAgICB0aGlzLiNmb3JtRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICAjc2hvd0Vycm9yIChpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jZXJyb3JDbGFzcylcbiAgfTtcblxuICAjaGlkZUVycm9yIChpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICAjY2hlY2tJbnB1dFZhbGlkaXR5IChpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLiNoaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jc2hvd0Vycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgI2hhc0ludmFsaWRJbnB1dCgpe1xuICAgIHJldHVybiB0aGlzLiNmb3JtSW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZm9ybSwgYW5kIHRvZ2dsZSBidXR0b24gZnVuY3Rpb25hbGl0eSBhY2NvcmRpbmdseS5cbiAgICovXG4gICN0b2dnbGVCdXR0b25TdGF0ZSgpe1xuICAgIGlmICh0aGlzLiNoYXNJbnZhbGlkSW5wdXQoKSl7XG4gICAgICB0aGlzLiNzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy4jc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy4jc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXQgdmFsaWRhdGlvbiB0byBkZWZhdWx0IHN0YXRlXG4gICAqL1xuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLiNmb3JtSW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy4jaGlkZUVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgdmFsaWRhdGlvbiBvZiB0aGUgZmllbGRzZXQgb2JqZWN0XG4gICAqL1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuI2Zvcm1JbnB1dExpc3QgPSBbLi4udGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLiNpbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLiNmb3JtSW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLiNjaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBjb25zdCBET00gPSBkb2N1bWVudDtcblxuZXhwb3J0IGNvbnN0IEFQSV9PUFRJT05TID0ge1xuICBiYXNlVVJMOiAnaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzg1NWJjMmRjLWQ3ZTktNGI4Ni1iMzlkLTA3NTZkOTI3ZDkzMicsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBWQUxJREFUT1JfT1BUSU9OUyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybS1jb250YWluZXJcIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiXG59XG5cbmV4cG9ydCBjb25zdCBGT1JNX1NFTEVDVE9SUyA9IHtcbiAgcHJvZmlsZUZvcm1TZWxlY3RvcjogJ3Byb2ZpbGUtZm9ybScsXG4gIGFkZENhcmRGb3JtU2VsZWN0b3I6ICdjYXJkLWZvcm0nLFxuICBhdmF0YXJFZGl0Rm9ybVNlbGVjdG9yOiAnYXZhdGFyLWZvcm0nXG59XG5cbmV4cG9ydCBjb25zdCBGT1JNX0VMRU1FTlRTID0ge1xuICBwcm9maWxlRm9ybTogRE9NLmZvcm1zW0ZPUk1fU0VMRUNUT1JTLnByb2ZpbGVGb3JtU2VsZWN0b3JdLFxuICBhZGRDYXJkRm9ybTogRE9NLmZvcm1zW0ZPUk1fU0VMRUNUT1JTLmFkZENhcmRGb3JtU2VsZWN0b3JdXG59XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RPUlMgPSB7XG4gIGNhcmRFZGl0b3I6ICcuY2FyZC1tb2RhbCcsXG4gIHByb2ZpbGVFZGl0b3I6ICcucHJvZmlsZS1tb2RhbCcsXG4gIGltYWdlTW9kYWw6ICcucHJldmlldy1tb2RhbCcsXG4gIGNvbmZpcm1hdGlvbk1vZGFsOiAnLmNvbmZpcm1hdGlvbi1tb2RhbCcsXG4gIGF2YXRhck1vZGFsOiAnLnVwZGF0ZS1hdmF0YXItbW9kYWwnLFxuICBjYXJkVGVtcGxhdGU6ICcjY2FyZF90ZW1wbGF0ZScsXG59XG5cbmV4cG9ydCBjb25zdCBQUk9GSUxFX0ZJRUxEUyA9IHtcbiAgbmFtZTogRk9STV9FTEVNRU5UUy5wcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKCcubmFtZS1pbnB1dCcpLFxuICBkZXNjcmlwdGlvbjogRk9STV9FTEVNRU5UUy5wcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKCcuZGVzY3JpcHRpb24taW5wdXQnKVxufVxuXG5leHBvcnQgY29uc3QgQ0FSRF9GSUVMRFMgPSB7XG4gIG5hbWU6IEZPUk1fRUxFTUVOVFMuYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcignLnRpdGxlLWlucHV0JyksXG4gIGxpbms6IEZPUk1fRUxFTUVOVFMuYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcignLmxpbmstaW5wdXQnKVxufVxuXG5leHBvcnQgY29uc3QgQlVUVE9OX0VMRU1FTlRTID0ge1xuICBwcm9maWxlRWRpdEJ1dHRvbjogIERPTS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKSxcbiAgYWRkQ2FyZEJ1dHRvbjogRE9NLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyksXG4gIGF2YXRhckVkaXRCdXR0b246IERPTS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLW92ZXJsYXknKSxcbiAgcHJvZmlsZVN1Ym1pdEJ1dHRvbjogRE9NLmdldEVsZW1lbnRCeUlkKCdwcm9maWxlLXN1Ym1pdC1idXR0b24nKSxcbiAgY2FyZFN1Ym1pdEJ1dHRvbjogRE9NLmdldEVsZW1lbnRCeUlkKCdjYXJkLXN1Ym1pdC1idXR0b24nKSxcbiAgYXZhdGFyU3VibWl0QnV0dG9uOiBET00uZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhci1zdWJtaXQtYnV0dG9uJyksXG4gIGNvbmZpcm1hdGlvbkJ1dHRvbjogRE9NLmdldEVsZW1lbnRCeUlkKCdjb25maXJtYXRpb24tYnV0dG9uJylcbn1cblxuZXhwb3J0IGNvbnN0IEZJRUxEX0VMRU1FTlRTID0ge1xuICBlZGl0b3JOYW1lOiBGT1JNX0VMRU1FTlRTLnByb2ZpbGVGb3JtLmVsZW1lbnRzLnVzZXJuYW1lLFxuICBlZGl0b3JEZXNjcmlwdGlvbjogRk9STV9FTEVNRU5UUy5wcm9maWxlRm9ybS5lbGVtZW50cy5kZXNjcmlwdGlvbixcbiAgY2FyZE5hbWU6IEZPUk1fRUxFTUVOVFMuYWRkQ2FyZEZvcm0uZWxlbWVudHMubmFtZSxcbiAgY2FyZFVSTDogRk9STV9FTEVNRU5UUy5hZGRDYXJkRm9ybS5lbGVtZW50cy51cmxcbn1cblxuZXhwb3J0IGNvbnN0IE9USEVSX0VMRU1FTlRTID0ge1xuICBnYWxsZXJ5Q2FyZExpc3Q6IERPTS5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fY2FyZHMnKSxcbiAgcHJvZmlsZU5hbWU6IERPTS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpLFxuICBwcm9maWxlRGVzY3JpcHRpb246IERPTS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKSxcbiAgcHJvZmlsZUF2YXRhcjogRE9NLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKVxufVxuIiwiLypcblRPRE86XG4gIENsYXNzIENvbnN0cnVjdG9ycyB0aGF0IHJlY2VpdmUgSFRNTCBlbGVtZW50czpcbiAgICBlaXRoZXIgZmluZCB0aGUgZWxlbWVudCBvdXRzaWRlIG9mIHRoZSBjbGFzcyBhbmQgc2VuZCB0aGF0LCBcbiAgICBvciBzZW5kIHRoZSBzZWxlY3RvciBhbmQgZmluZCBpdCBpbiB0aGUgY2xhc3MuXG4gICAgUGljayBvbmUuXG4gIFdoZW4gbG9hZGluZyBpbWFnZXMsIGVpdGhlciBvbiBpbml0aWFsIGxvYWQsIG9yIGFmdGVyIGNyZWF0aW5nIGEgbmV3IG9uZVxuICAgIHBlcmhhcHMgdXRpbGl6ZSAub25sb2FkIGFuZCAub25lcnJvciB0byBzdG9wIHNob3dpbmcgdGhlIGltYWdlIGxvYWRzP1xuICBFcnJvciBoYW5kbGVyPyBDaGVjayBmb3IgR0VUIG9yIFBPU1QgZmFpbHVyZSwgdGhlbiBkZXBlbmRpbmcgb24gc3RhdHVzLCByZWN1ciB1bnRpbCBhIGNlcnRhaW4gdGltZSBsaW1pdCBpcyByZWFjaGVkLlxuKi9cbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtYXRpb24nO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQVBJIGZyb20gJy4uL2NvbXBvbmVudHMvQVBJLmpzJztcbmltcG9ydCB7QlVUVE9OX0VMRU1FTlRTIGFzIGJ1dHRvbnMsXG4gICAgICAgIEZPUk1fU0VMRUNUT1JTIGFzIGZvcm1TZWxlY3RvcnMsXG4gICAgICAgIFNFTEVDVE9SUyBhcyBzZWxlY3RvcnMsXG4gICAgICAgIE9USEVSX0VMRU1FTlRTIGFzIGVsZW1zLFxuICAgICAgICBGSUVMRF9FTEVNRU5UUyBhcyBmaWVsZHMsXG4gICAgICAgIFZBTElEQVRPUl9PUFRJT05TIGFzIG9wdGlvbnMsXG4gICAgICAgIEFQSV9PUFRJT05TIGFzIGFwaU9wdGlvbnN9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbi8vSW5pdGlhbGl6ZSAobW9zdCkgY2xhc3Nlc1xuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMuaW1hZ2VNb2RhbCk7XG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIGJ1dHRvbnMucHJvZmlsZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZpbmcuLi4nXG5jb25zdCBwcm9maWxlRm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHNlbGVjdG9ycy5wcm9maWxlRWRpdG9yLFxuICBzdWJtaXRQcm9maWxlLFxuICAnU2F2aW5nLi4uJyk7XG5wcm9maWxlRm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIGJ1dHRvbnMuY2FyZFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZpbmcuLi4nO1xuY29uc3QgY2FyZEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBzZWxlY3RvcnMuY2FyZEVkaXRvcixcbiAgc3VibWl0Q2FyZCxcbiAgJ1NhdmluZy4uLicpXG5jYXJkRm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIGJ1dHRvbnMuYXZhdGFyU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLic7XG5jb25zdCBhdmF0YXJGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgc2VsZWN0b3JzLmF2YXRhck1vZGFsLFxuICBzdWJtaXRBdmF0YXIsXG4gICdTYXZpbmcuLi4nKTtcbmF2YXRhckZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBidXR0b25zLmNvbmZpcm1hdGlvbkJ1dHRvbi50ZXh0Q29udGVudCA9ICdEZWxldGluZy4uLidcbmNvbnN0IGNhcmREZWxldGlvbkNvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cENvbmZpcm1hdGlvbihzZWxlY3RvcnMuY29uZmlybWF0aW9uTW9kYWwsIGNvbmZpcm1EZWxldGlvbiwgJ0RlbGV0aW5nLi4uJylcbmNhcmREZWxldGlvbkNvbmZpcm1hdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKipcbiAqIHRoZXNlIG5lZWQgdG8gYmUgbmFtZWQgc3luY2hyb25pb3VzbHkgc28gdGhhdCB0aGV5IGNhbiBiZSByZWZlcmVuY2VkIGJlZm9yZSBhc3luYyBjb2RlIHJ1bnMsXG4gKiB5ZXQgc3RpbGwgYmUgaW5zdGFudGlhdGVkIGluIHRoZSBhc3luYyBibG9jay5cbiAqIGZlZWxzIGVlcmlseSBzaW1pbGFyIHRvIHdyaXRpbmcgdmJhLi4uXG4gKiAnZGltIGdhbGxlcnkgYXMgb2JqZWN0J1xuICogd3d3XG4gKi9cbmxldCBnYWxsZXJ5O1xubGV0IHVzZXI7XG5cbi8vSW5pdGlhbGl6ZSB2YWxpZGF0b3JzXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5mb3JtU2VsZWN0b3IpXTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBmb3JtRWxlbWVudCk7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyldID0gdmFsaWRhdG9yO1xuICB9KVxufVxuZW5hYmxlVmFsaWRhdGlvbihvcHRpb25zKTtcblxuLy9GdW5jdGlvbnMgdG8gcGFzcyB0byBjbGFzcyBvYmplY3RzXG5mdW5jdGlvbiBzdWJtaXRQcm9maWxlIChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIFxuXG4gIC8vVE9ETzogbG9vayBpbnRvIGZpbmRpbmcgYSB3YXkgdG8gZG8gdGhpcyB3aXRoIG9uZSBjYWxsIHRvIC5nZXRJbnB1dFZhbHVlcygpXG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIG5hbWU6IHByb2ZpbGVGb3JtUG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKS51c2VybmFtZSxcbiAgICBhYm91dDogcHJvZmlsZUZvcm1Qb3B1cC5nZXRJbnB1dFZhbHVlcygpLmRlc2NyaXB0aW9uXG4gIH07XG4gIHByb2ZpbGVGb3JtUG9wdXAuc2hvd0xvYWRpbmcoKTtcbiAgYXBpLnBhdGNoVXNlckluZm8ocGFyYW0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB1c2VyLnNldFVzZXJJbmZvKHJlc3BvbnNlKVxuICAgICAgcHJvZmlsZUZvcm1Qb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgICAgYXBpLmNhdGNoRXJyb3JzKHJlc3BvbnNlKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHByb2ZpbGVGb3JtUG9wdXAuaGlkZUxvYWRpbmcoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0pIHtcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gIGdhbGxlcnkuYXBwZW5kSXRlbShjYXJkKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKXtcbiAgY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKCkgPT4ge1xuICAgIGltYWdlUG9wdXAub3BlbihjYXJkLmdldENhcmRJbmZvKCkpO1xuICB9XG4gIGNvbnN0IGhhbmRsZURlbGV0ZUNsaWNrID0gKCkgPT4ge1xuICAgIGNhcmREZWxldGlvbkNvbmZpcm1hdGlvbi5zZXRBY3Rpb24oY29uZmlybURlbGV0aW9uLCB7Y2FyZH0pO1xuICAgIGNhcmREZWxldGlvbkNvbmZpcm1hdGlvbi5vcGVuKCk7XG4gIH1cbiAgY29uc3QgaGFuZGxlTGlrZUNsaWNrID0gKGlzTGlrZWQpID0+IHtcbiAgICBpZiAoaXNMaWtlZCkge1xuICAgICAgYXBpLnJlbW92ZUNhcmRMaWtlKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IGNhcmQuc2V0SXNMaWtlZChyZXNwb25zZS5pc0xpa2VkKSlcbiAgICAgICAgLmNhdGNoKHJlc3BvbnNlID0+IGFwaS5jYXRjaEVycm9ycyhyZXNwb25zZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkuYWRkQ2FyZExpa2UoY2FyZC5nZXRDYXJkSWQoKSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gY2FyZC5zZXRJc0xpa2VkKHJlc3BvbnNlLmlzTGlrZWQpKVxuICAgICAgICAuY2F0Y2gocmVzcG9uc2UgPT4gYXBpLmNhdGNoRXJyb3JzKHJlc3BvbnNlKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnVuY3Rpb25zID0ge1xuICAgIGhhbmRsZUltYWdlQ2xpY2s6IGhhbmRsZUNhcmRDbGljayxcbiAgICBjb25maXJtRGVsZXRpb246IGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGljazogaGFuZGxlTGlrZUNsaWNrfVxuXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCBmdW5jdGlvbnMsIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUpO1xuICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XG59XG5cbmZ1bmN0aW9uIHN1Ym1pdEF2YXRhciAoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhdmF0YXJGb3JtUG9wdXAuc2hvd0xvYWRpbmcoKTtcbiAgYXBpLnVwZGF0ZUF2YXRhcihhdmF0YXJGb3JtUG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICB1c2VyLnVwZGF0ZUF2YXRhcihyZXN1bHQuYXZhdGFyKTtcbiAgICAgIGF2YXRhckZvcm1Qb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChyZXN1bHQpID0+IHtcbiAgICAgIGFwaS5jYXRjaEVycm9ycyhyZXN1bHQpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYXZhdGFyRm9ybVBvcHVwLmhpZGVMb2FkaW5nKCk7XG4gICAgICBcbiAgICB9KVxuICBcbn1cblxuZnVuY3Rpb24gY29uZmlybURlbGV0aW9uKHtjYXJkfSl7XG4gIGNvbnNvbGUubG9nKGNhcmQpXG4gIGNhcmREZWxldGlvbkNvbmZpcm1hdGlvbi5zaG93TG9hZGluZygpO1xuICBhcGkuZGVsZXRlQ2FyZChjYXJkLmdldENhcmRJZCgpKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY2FyZC5yZW1vdmUoKTtcbiAgICAgIGNhcmQgPSBudWxsO1xuICAgICAgY2FyZERlbGV0aW9uQ29uZmlybWF0aW9uLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlc3BvbnNlKSA9PiB7XG4gICAgICBhcGkuY2F0Y2hFcnJvcnMocmVzcG9uc2UpXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBjYXJkRGVsZXRpb25Db25maXJtYXRpb24uaGlkZUxvYWRpbmcoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBzdWJtaXRDYXJkKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY2FyZEZvcm1Qb3B1cC5zaG93TG9hZGluZygpO1xuICBhcGkuYWRkTmV3Q2FyZChjYXJkRm9ybVBvcHVwLmdldElucHV0VmFsdWVzKCkpXG4gICAgLnRoZW4oKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICAgICAgZ2FsbGVyeS5wcmVwZW5kSXRlbShjYXJkKTtcbiAgICAgIGNhcmRGb3JtUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IocmVzcG9uc2UpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY2FyZEZvcm1Qb3B1cC5oaWRlTG9hZGluZygpO1xuICAgIH0pXG59XG5cbi8vRXZlbnQgbGlzdGVuZXJzLiBcbmJ1dHRvbnMucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGluZm8gPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gIGZpZWxkcy5lZGl0b3JOYW1lLnZhbHVlID0gaW5mby51c2VybmFtZTtcbiAgZmllbGRzLmVkaXRvckRlc2NyaXB0aW9uLnZhbHVlID0gaW5mby5kZXNjcmlwdGlvbjtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybVNlbGVjdG9ycy5wcm9maWxlRm9ybVNlbGVjdG9yXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZUZvcm1Qb3B1cC5vcGVuKCk7XG59KTtcbmJ1dHRvbnMuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybVNlbGVjdG9ycy5hZGRDYXJkRm9ybVNlbGVjdG9yXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgY2FyZEZvcm1Qb3B1cC5vcGVuKCk7XG59KTtcbmJ1dHRvbnMuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybVNlbGVjdG9ycy5hdmF0YXJFZGl0Rm9ybVNlbGVjdG9yXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgYXZhdGFyRm9ybVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vL0luaXRpYWxpemUgQVBJIGludGVyYWN0aW9uc1xuY29uc3QgYXBpID0gbmV3IEFQSShhcGlPcHRpb25zKVxuUHJvbWlzZS5hbGwoW2FwaS5nZXRDYXJkTGlzdCgpLCBhcGkuZ2V0VXNlckluZm8oKV0pXG4gIC50aGVuKChbY2FyZHMsIHVzZXJJbmZvXSkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRzID0ge1xuICAgICAgbmFtZUVsZW1lbnQ6IGVsZW1zLnByb2ZpbGVOYW1lLCBcbiAgICAgIGRlc2NyaXB0aW9uRWxlbWVudDogZWxlbXMucHJvZmlsZURlc2NyaXB0aW9uLFxuICAgICAgYXZhdGFyRWxlbWVudDogZWxlbXMucHJvZmlsZUF2YXRhcn07XG4gICAgdXNlciA9IG5ldyBVc2VySW5mbyhlbGVtZW50cywgdXNlckluZm8pO1xuICAgIGdhbGxlcnkgPSBuZXcgU2VjdGlvbihjYXJkcywgcmVuZGVyQ2FyZCwgZWxlbXMuZ2FsbGVyeUNhcmRMaXN0KTtcblxuICAgIGdhbGxlcnkucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgIGFwaS5jYXRjaEVycm9ycyhyZXNwb25zZSk7XG4gIH0pO1xuXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XG4gICNwb3B1cEltYWdlXG4gICNwb3B1cFRpdGxlXG5cbiAgLyoqXG4gICAqIGltYWdlIHByZXZpZXcgcG9wdXAgbWFuYWdlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9wdXBTZWxlY3RvciAgSFRNTCBlbGVtZW50IGNsYXNzIG5hbWUgb2YgcG9wdXAgdG8gbWFuYWdlIHdpdGggdGhpcyBvYmplY3RcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNwb3B1cEltYWdlID0gdGhpcy5nZXRQb3B1cEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2ltYWdlJyk7XG4gICAgdGhpcy4jcG9wdXBUaXRsZSA9IHRoaXMuZ2V0UG9wdXBFbGVtZW50KCkucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZS10aXRsZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIG1vZGlmaWVzIGluZm9ybWF0aW9uIG9uIHBvcHVwLCB0aGVuIG9wZW4gaXRcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtMCBvYmplY3QgY29udGFpbmluZyBsaW5rIGFuZCBuYW1lIHZhbHVlcyB0byBpbWFnZSB0byBhZGQgdG8gcG9wdXBcbiAgICovXG4gIG9wZW4oe2xpbmssIHRpdGxlfSl7XG4gICAgdGhpcy4jcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuI3BvcHVwSW1hZ2UuYWx0ID0gdGl0bGU7XG4gICAgdGhpcy4jcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cHtcbiAgI2J1dHRvbkVsZW1lbnRcbiAgI2NvbmZpcm1BY3Rpb25cbiAgI2FjdGlvblBhcmFtc1xuICAjYnV0dG9uVGV4dFxuICAjbG9hZGluZ0J1dHRvblRleHRcblxuICAvKipcbiAgICogT2JqZWN0IGZvciBtYW5hZ2luZyBhIGNvbmZpcm1hdGlvbiBkaWFsb2d1ZSBwb3B1cFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcG9wdXBTZWxlY3RvciBzZWxlY3RvciBmb3IgZGlhbG9ndWUgdG8gbWFuYWdlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpcm1BY3Rpb24gYWN0aW9uIHRvIHRha2Ugd2hlbiBjb25maXJtYXRpb24gaXMgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbG9hZGluZ0J1dHRvblRleHQgdGV4dCBmb3Igc3VibWl0IGJ1dHRvbiB0byBzaG93IGxvYWRpbmcgaXMgaW4gcHJvZ3Jlc3NcbiAgICovXG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yLCBhY3Rpb24sIGxvYWRpbmdCdXR0b25UZXh0KXtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNidXR0b25FbGVtZW50ID0gdGhpcy5nZXRQb3B1cEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbicpXG4gICAgdGhpcy4jbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dDtcbiAgICB0aGlzLiNidXR0b25UZXh0ID0gdGhpcy4jYnV0dG9uRWxlbWVudC50ZXh0Q29udGVudDtcbiAgfVxuXG4gICNoYW5kbGVCdXR0b25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLiNjb25maXJtQWN0aW9uKHRoaXMuI2FjdGlvblBhcmFtcylcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXQgdGhlIGFjdGlvbiB0byB0YWtlIHdoZW4gY29uZmlybWF0aW9uIHN1Y2NlZWRzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGFjdGlvbiBmdW5jdGlvbiBmb3IgYWN0aW9uIHRvIHRha2UgXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb25QYXJhbXMgb3B0aW9uYWwgb2JqZWN0IG9mIHBhcmFtZXRlcnMgdG8gcGFzcyB0byAnYWN0aW9uJy4gS2V5IG5hbWVzIHNob3VsZCBtYXRjaCB3aXRoIHBhcmFtZXRlciBuYW1lcyBpbiAnYWN0aW9uJy5cbiAgICovXG4gIHNldEFjdGlvbihhY3Rpb24sIGFjdGlvblBhcmFtcyl7XG4gICAgdGhpcy4jY29uZmlybUFjdGlvbiA9IGFjdGlvbjtcbiAgICBpZihhY3Rpb25QYXJhbXMpe1xuICAgICAgdGhpcy4jYWN0aW9uUGFyYW1zID0gYWN0aW9uUGFyYW1zO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiB0dXJuIG9uIGNoYW5nZXMgdG8gbW9kYWwgcmVsYXRlZCB0byBjb250ZW50IGxvYWRzXG4gICAqL1xuICBzaG93TG9hZGluZygpe1xuICAgIHRoaXMuI2J1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLiNsb2FkaW5nQnV0dG9uVGV4dDsgXG4gIH1cbiAgXG4gIC8qKlxuICAgKiB0dXJuIG9mZiBjaGFuZ2VzIHRvIG1vZGFsIHJlbGF0ZWQgdG8gY29udGVudCBsb2Fkc1xuICAgKi9cbiAgaGlkZUxvYWRpbmcoKXtcbiAgICB0aGlzLiNidXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy4jYnV0dG9uVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGV2ZW50IGxpc3RlbmVycyBmb3IgcG9wdXBcbiAgICovXG4gIHNldEV2ZW50TGlzdGVuZXJzKCl7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgIHRoaXMuI2J1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy4jaGFuZGxlQnV0dG9uQ2xpY2spO1xuICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBUEkge1xuICAjYmFzZVVSTFxuICAjaGVhZGVyc1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcbiAgICB0aGlzLiNiYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMO1xuICAgIHRoaXMuI2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7IFxuICB9XG5cbiAgI2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKXtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYXRjaCBBUEkgcmVsYXRlZCBlcnJvcnNcbiAgICogQ3VycmVudGx5IGp1c3QgbG9ncyB0byBjb25zb2xlXG4gICAqIEBwYXJhbSB7UHJvbWlzZX0gcmVzcG9uc2UgXG4gICAqL1xuICBjYXRjaEVycm9ycyhyZXNwb25zZSl7XG4gICAgLy9UT0RPOiBleHBhbmQgdGhpc1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIG5ldyBjYXJkIGluZm9ybWF0aW9uIHRvIHNlcnZlclxuICAgKiBAcGFyYW0ge29iamVjdH0gaXRlbSBvYmplY3Qgd2l0aCAnbmFtZScgYW5kICdsaW5rJyBlbGVtZW50cyBjb250YWluaW5nIHRoZSB0aXRsZSBvZiBhbmQgbGluayB0byBhbiBpbWFnZSB0byBhZGRcbiAgICogQHJldHVybnMge29iamVjdH0gY2FyZCBvYmplY3QgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBhZGROZXdDYXJkKGl0ZW0pe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLiNiYXNlVVJMfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaXRlbSlcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICAvKipcbiAgICogU2VuZCByZXF1ZXN0IHRvIHVwZGF0ZSB1c2VyIGluZm9ybWF0aW9uIHN0b3JlZCBvbiBzZXJ2ZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IG5ld0luZm8ge25hbWUsIGFib3V0fVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBjb250YWluaW5nIHVwZGF0ZWQgdXNlciBpbmZvcm1hdGlvblxuICAgKi9cbiAgcGF0Y2hVc2VySW5mbyhuZXdJbmZvKXtcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuI2Jhc2VVUkx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3SW5mbylcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICAvKipcbiAgICogU2VuZCByZXF1ZXN0IHRvIGRlbGV0ZSBjYXJkIGZyb20gc2VydmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjYXJkSWQgaWQgdG8gZGVsZXRlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHttZXNzYWdlfSBhbm5vdW5jaW5nIHN1Y2Nlc3MgdXBvbiBzdWNjZXNcbiAgICovXG4gIGRlbGV0ZUNhcmQoY2FyZElkKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy4jYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgbGluayB0byBuZXcgaW1hZ2UgXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHVwZGF0ZWQgdXNlciBpbmZvcm1hdGlvbiBvYmplY3RcbiAgICovXG4gIHVwZGF0ZUF2YXRhcihsaW5rKXtcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuI2Jhc2VVUkx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBsaW5rLmF2YXRhclxuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgdXNlciBpbmZvcm1hdGlvbiBmcm9tIHNlcnZlclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB7bmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkfVxuICAgKi9cbiAgZ2V0VXNlckluZm8oKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy4jYmFzZVVSTH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsaXN0IG9mIGNhcmRzIGZyb20gc2VydmVyXG4gICAqIEByZXR1cm5zIHthcnJheX0gY2FyZCBPYmplY3RzIHtjcmVhdGVkQXQsIGlzTGlrZWQsIGxpbmssIG5hbWUsIG93bmVyLCBfaWR9XG4gICAqL1xuICBnZXRDYXJkTGlzdCgpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLiNiYXNlVVJMfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICAvKipcbiAgICogU2VuZCByZXF1ZXN0IHRvIGFkZCBsaWtlIHRvIGNhcmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcmRJZCBpZCBmb3IgY2FyZFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB1cGRhdGVkIGNhcmQgb2JqZWN0XG4gICAqL1xuICBhZGRDYXJkTGlrZShjYXJkSWQpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLiNiYXNlVVJMfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgcmVxdWVzdCB0byByZW1vdmUgbGlrZSBmcm9tIGNhcmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcmRJZCBpZCBmb3IgY2FyZFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB1cGRhdGVkIGNhcmQgb2JqZWN0XG4gICAqL1xuICByZW1vdmVDYXJkTGlrZShjYXJkSWQpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLiNiYXNlVVJMfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKVxuICB9XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiaXRlbSIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiY29uZmlybURlbGV0aW9uIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIm5hbWUiLCJsaW5rIiwiaXNMaWtlZCIsIl9pZCIsInRpdGxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIiNoYW5kbGVEZWxldGVDbGljayIsIiNzZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJnZXRDYXJkSW5mbyIsImdldENhcmRJZCIsImdldENhcmRFbGVtZW50Iiwic2V0SXNMaWtlZCIsImNyZWF0ZUNhcmQiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIlNlY3Rpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiZWxlbWVudCIsImFwcGVuZEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kSXRlbSIsInByZXBlbmQiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJnZXRQb3B1cEVsZW1lbnQiLCJldnQiLCJrZXkiLCJjbG9zZSIsImhhbmRsZUNsaWNrIiwiY2xpY2tlZEVsZW1lbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImxvYWRpbmdCdXR0b25UZXh0Iiwic3VwZXIiLCJyZXRPYmoiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaWQiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwiZ2V0SW5wdXRWYWx1ZXMiLCJPYmplY3QiLCJrZXlzIiwidmFsdWUiLCJyZXNldCIsIlVzZXJJbmZvIiwiZWxlbWVudHMiLCJ1c2VySW5mbyIsIm5hbWVFbGVtZW50IiwiZGVzY3JpcHRpb25FbGVtZW50IiwiYXZhdGFyRWxlbWVudCIsInNldFVzZXJJbmZvIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJ1c2VybmFtZSIsImRlc2NyaXB0aW9uIiwibmV3SW5mbyIsImFib3V0IiwibmV3TGluayIsIkZvcm1WYWxpZGF0b3IiLCJvcHRpb25zIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJzb21lIiwiaW5wdXQiLCJkaXNhYmxlZCIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJET00iLCJGT1JNX1NFTEVDVE9SUyIsIkZPUk1fRUxFTUVOVFMiLCJwcm9maWxlRm9ybSIsImZvcm1zIiwiYWRkQ2FyZEZvcm0iLCJTRUxFQ1RPUlMiLCJjYXJkRWRpdG9yIiwicHJvZmlsZUVkaXRvciIsImltYWdlTW9kYWwiLCJjb25maXJtYXRpb25Nb2RhbCIsImF2YXRhck1vZGFsIiwiY2FyZFRlbXBsYXRlIiwiQlVUVE9OX0VMRU1FTlRTIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiYXZhdGFyRWRpdEJ1dHRvbiIsInByb2ZpbGVTdWJtaXRCdXR0b24iLCJnZXRFbGVtZW50QnlJZCIsImNhcmRTdWJtaXRCdXR0b24iLCJhdmF0YXJTdWJtaXRCdXR0b24iLCJjb25maXJtYXRpb25CdXR0b24iLCJGSUVMRF9FTEVNRU5UUyIsImVkaXRvck5hbWUiLCJlZGl0b3JEZXNjcmlwdGlvbiIsImNhcmROYW1lIiwiY2FyZFVSTCIsInVybCIsIk9USEVSX0VMRU1FTlRTIiwiZ2FsbGVyeUNhcmRMaXN0IiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwcm9maWxlQXZhdGFyIiwiaW1hZ2VQb3B1cCIsInNlbGVjdG9ycyIsInByb2ZpbGVGb3JtUG9wdXAiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmFtIiwiYXBpIiwicGF0Y2hVc2VySW5mbyIsInRoZW4iLCJyZXNwb25zZSIsInVzZXIiLCJjYXRjaCIsImNhdGNoRXJyb3JzIiwiZmluYWxseSIsImNhcmRGb3JtUG9wdXAiLCJhZGROZXdDYXJkIiwiY2FyZCIsImdhbGxlcnkiLCJjb25zb2xlIiwiZXJyb3IiLCJhdmF0YXJGb3JtUG9wdXAiLCJyZXN1bHQiLCJjYXJkRGVsZXRpb25Db25maXJtYXRpb24iLCJhY3Rpb24iLCIjaGFuZGxlQnV0dG9uQ2xpY2siLCJzZXRBY3Rpb24iLCJhY3Rpb25QYXJhbXMiLCJmb3JtVmFsaWRhdG9ycyIsInJlbmRlckNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsInJlbW92ZUNhcmRMaWtlIiwiYWRkQ2FyZExpa2UiLCJsb2ciLCJkZWxldGVDYXJkIiwiZm9ybVNlbGVjdG9yIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJnZXRBdHRyaWJ1dGUiLCJidXR0b25zIiwiaW5mbyIsImZpZWxkcyIsImZvcm1TZWxlY3RvcnMiLCJiYXNlVVJMIiwiaGVhZGVycyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiZ2V0Q2FyZExpc3QiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiX3JlZjIiLCJjYXJkcyIsImVsZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==